{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Test suite classification for CI/CD — defines critical (blocking) vs non-critical (warning-only) specs",
  "version": "1.0.0",
  "lastUpdated": "2026-02-20",
  "baseline": {
    "totalTests": 202,
    "passingTests": 189,
    "passRate": "93.6%",
    "criticalPassRate": "100%"
  },
  "specs": {
    "critical": {
      "description": "Core workflow specs — must pass 100% in CI (blocking failures)",
      "exitOnFailure": true,
      "specs": [
        "admin/dashboard_navigation.cy.js",
        "admin/tournament_manager.cy.js",
        "admin/tournament_monitor.cy.js",
        "auth/registration.cy.js",
        "instructor/dashboard.cy.js",
        "instructor/tournament_applications.cy.js",
        "student/credits.cy.js",
        "student/dashboard.cy.js",
        "student/enrollment_flow.cy.js",
        "student/skill_update.cy.js",
        "player/credits.cy.js",
        "player/specialization_hub.cy.js"
      ],
      "testCount": 149,
      "expectedPassRate": "100%"
    },
    "nonCritical": {
      "description": "Error state & edge case specs — failures generate warnings but don't block CI",
      "exitOnFailure": false,
      "specs": [
        "auth/login.cy.js",
        "error_states/http_409_conflict.cy.js",
        "error_states/unauthorized.cy.js",
        "student/enrollment_409_live.cy.js",
        "student/error_states.cy.js",
        "system/cross_role_e2e.cy.js",
        "player/dashboard.cy.js"
      ],
      "testCount": 53,
      "expectedPassRate": ">=70%",
      "knownIssues": [
        {
          "spec": "auth/login.cy.js",
          "failingTests": 2,
          "issue": "401 error state validation timing",
          "tracked": "E2E-STAB-001"
        },
        {
          "spec": "student/enrollment_409_live.cy.js",
          "failingTests": 1,
          "issue": "API returns 405 instead of 200/404 (environment-dependent)",
          "tracked": "E2E-STAB-002"
        },
        {
          "spec": "student/error_states.cy.js",
          "failingTests": 4,
          "issue": "409 conflict + 401 session expiry + slow network resilience",
          "tracked": "E2E-STAB-003"
        },
        {
          "spec": "system/cross_role_e2e.cy.js",
          "failingTests": 1,
          "issue": "Token expiry during cross-role API validation",
          "tracked": "E2E-STAB-004"
        },
        {
          "spec": "player/dashboard.cy.js",
          "failingTests": 3,
          "issue": "Sidebar visibility assertion failures (CSS overlay/timing)",
          "tracked": "E2E-STAB-005"
        }
      ]
    }
  },
  "ci": {
    "prGate": {
      "suite": "smoke",
      "mode": "blocking",
      "description": "Fast smoke tests using @smoke tag (core workflows only)"
    },
    "fullSuite": {
      "suite": "all",
      "mode": "split",
      "description": "Run critical (blocking) and non-critical (warning) specs separately"
    },
    "nightly": {
      "suite": "all",
      "mode": "report-only",
      "description": "Full suite for monitoring; all failures reported but non-blocking"
    }
  }
}

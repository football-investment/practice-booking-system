/* ===========================================
   UNIFIED COLOR SYSTEM - 2025 EDITION
   Automatic theme consistency with perfect contrast
   ========================================== */

/* ================ BASE COLOR PALETTE ================ */
:root {
  /* Neutral palette - Scientifically calibrated contrast ratios */
  --neutral-0: #ffffff;      /* Pure white */
  --neutral-50: #fafafa;     /* Near white */
  --neutral-100: #f5f5f5;    /* Light gray */
  --neutral-200: #e5e5e5;    /* Lighter medium gray */
  --neutral-300: #d4d4d4;    /* Medium light gray */
  --neutral-400: #a3a3a3;    /* Medium gray */
  --neutral-500: #737373;    /* True middle gray */
  --neutral-600: #525252;    /* Medium dark gray */
  --neutral-700: #404040;    /* Dark gray */
  --neutral-800: #262626;    /* Very dark gray */
  --neutral-900: #171717;    /* Near black */
  --neutral-950: #0a0a0a;    /* Almost black */
  
  /* Semantic colors with both light and dark variants */
  --success-light: #22c55e;  /* 4.5:1 contrast on white */
  --success-dark: #16a34a;   /* Enhanced for dark mode */
  --warning-light: #f59e0b;  /* 3:1 contrast minimum */
  --warning-dark: #d97706;   /* Darker for better visibility */
  --error-light: #ef4444;    /* 4.5:1 contrast ratio */
  --error-dark: #dc2626;     /* Enhanced error red */
  --info-light: #3b82f6;     /* Trust blue */
  --info-dark: #2563eb;      /* Deeper blue for dark mode */
  
  /* Interactive state indicators */
  --focus-ring: #3b82f680;   /* Semi-transparent focus indicator */
  --selection-bg: #3b82f620; /* Text selection background */
}

/* ================ SMART COLOR SYSTEM ================ */
/* Automatically adapts colors based on theme context */

/* LIGHT THEME - High contrast dark text on light backgrounds */
:root,
:root[data-theme="light"] {
  color-scheme: light;
  
  /* Primary text hierarchy */
  --text-primary: var(--neutral-900);     /* Maximum contrast - 16:1 ratio */
  --text-secondary: var(--neutral-700);   /* High contrast - 10:1 ratio */
  --text-tertiary: var(--neutral-600);    /* Good contrast - 7:1 ratio */
  --text-quaternary: var(--neutral-500);  /* Minimum accessible - 4.5:1 */
  --text-disabled: var(--neutral-400);    /* Subtle disabled state */
  --text-accent: var(--neutral-0);        /* White text for dark backgrounds */
  --text-inverse: var(--neutral-50);      /* Near-white for very dark backgrounds */
  
  /* Background hierarchy */
  --bg-primary: var(--neutral-0);         /* Pure white base */
  --bg-secondary: var(--neutral-50);      /* Subtle off-white */
  --bg-tertiary: var(--neutral-100);      /* Light gray sections */
  --bg-quaternary: var(--neutral-200);    /* Dividers and subtle areas */
  
  /* Surface colors (cards, modals, etc.) */
  --surface-primary: var(--neutral-0);    /* White cards */
  --surface-secondary: var(--neutral-50); /* Off-white surfaces */
  --surface-tertiary: var(--neutral-100); /* Light gray panels */
  --surface-inverse: var(--neutral-900);  /* Dark surfaces for contrast */
  
  /* Interactive surfaces */
  --surface-hover: var(--neutral-100);    /* Subtle hover state */
  --surface-active: var(--neutral-200);   /* Pressed/active state */
  --surface-focus: var(--neutral-100);    /* Focus indicator background */
  --surface-selected: var(--neutral-100); /* Selected state */
  
  /* Border colors */
  --border-primary: var(--neutral-300);   /* Visible borders */
  --border-secondary: var(--neutral-200); /* Subtle borders */
  --border-tertiary: var(--neutral-100);  /* Very subtle dividers */
  --border-focus: var(--info-light);      /* Focus indicator */
  --border-error: var(--error-light);     /* Error state borders */
  
  /* Semantic colors - light theme optimized */
  --color-primary: #8b5fbf;
  --color-success: var(--success-light);
  --color-warning: var(--warning-light);
  --color-error: var(--error-light);
  --color-info: var(--info-light);
  
  /* Success state colors */
  --success-text: #166534;      /* Dark green text */
  --success-bg: #f0fdf4;        /* Light green background */
  --success-border: #bbf7d0;    /* Green border */
  
  /* Warning state colors */
  --warning-text: #92400e;      /* Dark amber text */
  --warning-bg: #fffbeb;        /* Light amber background */
  --warning-border: #fed7aa;    /* Amber border */
  
  /* Error state colors */
  --error-text: #991b1b;        /* Dark red text */
  --error-bg: #fef2f2;          /* Light red background */
  --error-border: #fecaca;      /* Red border */
  
  /* Info state colors */
  --info-text: #1e40af;         /* Dark blue text */
  --info-bg: #eff6ff;           /* Light blue background */
  --info-border: #bfdbfe;       /* Blue border */
}

/* DARK THEME - High contrast light text on dark backgrounds */
:root[data-theme="dark"] {
  color-scheme: dark;
  
  /* Primary text hierarchy - inverted with enhanced contrast */
  --text-primary: var(--neutral-50);      /* Near-white - maximum contrast */
  --text-secondary: var(--neutral-300);   /* Light gray - high contrast */
  --text-tertiary: var(--neutral-400);    /* Medium light gray - good contrast */
  --text-quaternary: var(--neutral-500);  /* Medium gray - minimum accessible */
  --text-disabled: var(--neutral-600);    /* Subtle disabled state */
  --text-accent: var(--neutral-900);      /* Dark text for light backgrounds */
  --text-inverse: var(--neutral-800);     /* Dark text for light surfaces */
  
  /* Background hierarchy - dark theme */
  --bg-primary: var(--neutral-900);       /* Very dark base */
  --bg-secondary: var(--neutral-800);     /* Dark secondary */
  --bg-tertiary: var(--neutral-700);      /* Medium dark sections */
  --bg-quaternary: var(--neutral-600);    /* Lighter dark areas */
  
  /* Surface colors (cards, modals, etc.) */
  --surface-primary: var(--neutral-800);    /* Dark cards */
  --surface-secondary: var(--neutral-700);  /* Medium dark surfaces */
  --surface-tertiary: var(--neutral-600);   /* Lighter dark panels */
  --surface-inverse: var(--neutral-100);    /* Light surfaces for contrast */
  
  /* Interactive surfaces */
  --surface-hover: var(--neutral-700);      /* Lighter hover state */
  --surface-active: var(--neutral-600);     /* Active state */
  --surface-focus: var(--neutral-700);      /* Focus indicator background */
  --surface-selected: var(--neutral-700);   /* Selected state */
  
  /* Border colors */
  --border-primary: var(--neutral-600);     /* Visible borders */
  --border-secondary: var(--neutral-700);   /* Subtle borders */
  --border-tertiary: var(--neutral-800);    /* Very subtle dividers */
  --border-focus: var(--info-dark);         /* Focus indicator */
  --border-error: var(--error-dark);        /* Error state borders */
  
  /* Semantic colors - dark theme optimized */
  --color-primary: #a777e3;
  --color-success: var(--success-dark);
  --color-warning: var(--warning-dark);
  --color-error: var(--error-dark);
  --color-info: var(--info-dark);
  
  /* Success state colors - dark theme */
  --success-text: #86efac;      /* Light green text */
  --success-bg: #14532d;        /* Dark green background */
  --success-border: #166534;    /* Green border */
  
  /* Warning state colors - dark theme */
  --warning-text: #fbbf24;      /* Light amber text */
  --warning-bg: #78350f;        /* Dark amber background */
  --warning-border: #92400e;    /* Amber border */
  
  /* Error state colors - dark theme */
  --error-text: #fca5a5;        /* Light red text */
  --error-bg: #7f1d1d;          /* Dark red background */
  --error-border: #991b1b;      /* Red border */
  
  /* Info state colors - dark theme */
  --info-text: #93c5fd;         /* Light blue text */
  --info-bg: #1e3a8a;           /* Dark blue background */
  --info-border: #1e40af;       /* Blue border */
}

/* ================ AUTO THEME SUPPORT ================ */
/* Automatically follows system preference */

@media (prefers-color-scheme: light) {
  :root[data-theme="auto"] {
    /* Copy all light theme variables */
    --text-primary: var(--neutral-900);
    --text-secondary: var(--neutral-700);
    --text-tertiary: var(--neutral-600);
    --text-quaternary: var(--neutral-500);
    --text-disabled: var(--neutral-400);
    --text-accent: var(--neutral-0);
    --text-inverse: var(--neutral-50);
    
    --bg-primary: var(--neutral-0);
    --bg-secondary: var(--neutral-50);
    --bg-tertiary: var(--neutral-100);
    --bg-quaternary: var(--neutral-200);
    
    --surface-primary: var(--neutral-0);
    --surface-secondary: var(--neutral-50);
    --surface-tertiary: var(--neutral-100);
    --surface-inverse: var(--neutral-900);
    
    --surface-hover: var(--neutral-100);
    --surface-active: var(--neutral-200);
    --surface-focus: var(--neutral-100);
    --surface-selected: var(--neutral-100);
    
    --border-primary: var(--neutral-300);
    --border-secondary: var(--neutral-200);
    --border-tertiary: var(--neutral-100);
    --border-focus: var(--info-light);
    --border-error: var(--error-light);
    
    --color-primary: #8b5fbf;
    --color-success: var(--success-light);
    --color-warning: var(--warning-light);
    --color-error: var(--error-light);
    --color-info: var(--info-light);
  }
}

@media (prefers-color-scheme: dark) {
  :root[data-theme="auto"] {
    /* Copy all dark theme variables */
    --text-primary: var(--neutral-50);
    --text-secondary: var(--neutral-300);
    --text-tertiary: var(--neutral-400);
    --text-quaternary: var(--neutral-500);
    --text-disabled: var(--neutral-600);
    --text-accent: var(--neutral-900);
    --text-inverse: var(--neutral-800);
    
    --bg-primary: var(--neutral-900);
    --bg-secondary: var(--neutral-800);
    --bg-tertiary: var(--neutral-700);
    --bg-quaternary: var(--neutral-600);
    
    --surface-primary: var(--neutral-800);
    --surface-secondary: var(--neutral-700);
    --surface-tertiary: var(--neutral-600);
    --surface-inverse: var(--neutral-100);
    
    --surface-hover: var(--neutral-700);
    --surface-active: var(--neutral-600);
    --surface-focus: var(--neutral-700);
    --surface-selected: var(--neutral-700);
    
    --border-primary: var(--neutral-600);
    --border-secondary: var(--neutral-700);
    --border-tertiary: var(--neutral-800);
    --border-focus: var(--info-dark);
    --border-error: var(--error-dark);
    
    --color-primary: #a777e3;
    --color-success: var(--success-dark);
    --color-warning: var(--warning-dark);
    --color-error: var(--error-dark);
    --color-info: var(--info-dark);
  }
}

/* ================ SMART COMPONENT TOKENS ================ */
/* Automatic color assignment for common UI patterns */

:root {
  /* Button color system */
  --btn-primary-bg: var(--color-info);
  --btn-primary-text: var(--text-accent);
  --btn-primary-hover: var(--info-dark);
  
  --btn-secondary-bg: var(--surface-secondary);
  --btn-secondary-text: var(--text-primary);
  --btn-secondary-hover: var(--surface-hover);
  --btn-secondary-border: var(--border-primary);
  
  --btn-success-bg: var(--color-success);
  --btn-success-text: var(--text-accent);
  --btn-success-hover: var(--success-dark);
  
  --btn-danger-bg: var(--color-error);
  --btn-danger-text: var(--text-accent);
  --btn-danger-hover: var(--error-dark);
  
  /* Card color system */
  --card-bg: var(--surface-primary);
  --card-text: var(--text-primary);
  --card-text-secondary: var(--text-secondary);
  --card-border: var(--border-secondary);
  --card-hover: var(--surface-hover);
  
  /* Input color system */
  --input-bg: var(--surface-primary);
  --input-text: var(--text-primary);
  --input-placeholder: var(--text-quaternary);
  --input-border: var(--border-primary);
  --input-border-focus: var(--border-focus);
  --input-border-error: var(--border-error);
  
  /* Navigation color system */
  --nav-bg: var(--surface-primary);
  --nav-text: var(--text-primary);
  --nav-text-secondary: var(--text-secondary);
  --nav-border: var(--border-secondary);
  --nav-item-hover: var(--surface-hover);
  --nav-item-active: var(--surface-selected);
  
  /* Alert/notification color system */
  --alert-success-bg: var(--success-bg);
  --alert-success-text: var(--success-text);
  --alert-success-border: var(--success-border);
  
  --alert-warning-bg: var(--warning-bg);
  --alert-warning-text: var(--warning-text);
  --alert-warning-border: var(--warning-border);
  
  --alert-error-bg: var(--error-bg);
  --alert-error-text: var(--error-text);
  --alert-error-border: var(--error-border);
  
  --alert-info-bg: var(--info-bg);
  --alert-info-text: var(--info-text);
  --alert-info-border: var(--info-border);
}

/* ================ ACCESSIBILITY HELPERS ================ */
/* Ensure proper contrast in all scenarios */

/* High contrast mode support */
@media (prefers-contrast: high) {
  :root {
    --text-primary: var(--neutral-950);
    --bg-primary: var(--neutral-0);
    --border-primary: var(--neutral-800);
  }
  
  :root[data-theme="dark"] {
    --text-primary: var(--neutral-0);
    --bg-primary: var(--neutral-950);
    --border-primary: var(--neutral-200);
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  :root {
    --transition-fast: 0ms;
    --transition-normal: 0ms;
    --transition-slow: 0ms;
  }
}

/* Print styles */
@media print {
  :root {
    --text-primary: black;
    --bg-primary: white;
    --border-primary: black;
  }
}